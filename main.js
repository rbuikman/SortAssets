(()=>{var e={156(e,t,n){"use strict";var s,o=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,o)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&o(t,e,n[i]);return r(t,e),t}),c=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(o,r){function i(e){try{a(s.next(e))}catch(e){r(e)}}function c(e){try{a(s.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,c)}a((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=n(565);n(284);const x=i(n(239)),l=document.getElementById("folderDiv"),u=document.getElementById("status"),d=document.getElementById("statusLabel"),h=document.getElementById("intro");let f,g,p=!1;const b=()=>{let e;console.log("loadStatus called, isDemoMode:",p),e=p?[{name:"Demo Folder",assetPath:"/demo/folder"}]:g.context.activeTab.folderSelection,l.innerHTML="<b>Folder</b>: "+e[0].name;const t=x.NEW_STATUS;console.log("Status options:",t);let n="";t.forEach(function(e){n+='<option value="'+e+'">'+e+"</option>"}),u.innerHTML=n,d.innerHTML="<b>Status</b>: ",console.log("Status dropdown populated with",t.length,"options")};function v(){return c(this,void 0,void 0,function*(){if(p)return void alert("Demo mode: This would update assets in the selected folder with the chosen status.");const e=g.context.activeTab.folderSelection,t=document.getElementById("status").value,n='ancestorPaths:"'+e[0].assetPath+'" -status:"'+t+'"',s={status:t};yield f.updatebulk(n,s),g.close()})}c(void 0,void 0,void 0,function*(){console.log("=== Plugin initialization started ==="),console.log("Window location:",window.location.href);let e="Cannot access (cross-origin)";try{e=window.parent.location.origin}catch(e){console.log("Cannot access parent.location.origin (cross-origin restriction)")}console.log("Parent origin:",e);try{window.location.ancestorOrigins&&window.location.ancestorOrigins.length>0?console.log("Ancestor origins:",Array.from(window.location.ancestorOrigins)):console.log("Ancestor origins: Not available")}catch(e){console.log("Ancestor origins: Error accessing")}console.log("Is in iframe:",window.self!==window.top),console.log("Configured whitelist:",x.CLIENT_URL_WHITELIST);try{console.log("Attempting to connect to Assets SDK..."),console.log("Starting AssetsPluginContext.get() with timeout of 5 seconds");const e=new Promise((e,t)=>{const n=setTimeout(()=>{console.error("TIMEOUT: AssetsPluginContext.get() did not respond within 5 seconds"),console.log("This usually means:"),console.log("1. Plugin is not embedded in WoodWing Assets iframe"),console.log("2. WoodWing Assets is not sending the context message"),console.log("3. There is a communication issue between iframe and parent"),t(new Error("Timeout: Not embedded in WoodWing Assets"))},5e3);console.log("Timeout set:",n)});console.log("Calling AssetsPluginContext.get()...");const t=a.AssetsPluginContext.get(x.CLIENT_URL_WHITELIST);console.log("AssetsPluginContext.get() called, promise created"),g=yield Promise.race([t,e]),console.log("âœ“ Connected to Assets SDK successfully!"),console.log("Context received:",g),console.log("Context data:",null==g?void 0:g.context),f=a.AssetsApiClient.fromPluginContext(g),console.log("API Client created:",f),document.getElementById("update").onclick=function(){v()},yield b(),console.log("=== Plugin initialization complete ===")}catch(e){console.error("=== Error during initialization ==="),console.error("Error object:",e),console.error("Error message:",null==e?void 0:e.message),console.error("Error stack:",null==e?void 0:e.stack);let t="unknown",n=window.self!==window.top;try{window.location.ancestorOrigins&&window.location.ancestorOrigins.length>0&&(t=window.location.ancestorOrigins[0])}catch(e){console.log("Cannot determine ancestor URL")}const s=(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Unknown error";console.log("Is in iframe:",n),console.log("Ancestor URL:",t),console.log("Error message content:",s),n&&"unknown"!==t?(p=!0,console.error(">>> WHITELIST CONFIGURATION ERROR <<<"),console.error("Plugin is embedded but cannot connect to Assets SDK"),console.log("Parent URL:",t),console.log("Configured whitelist:",x.CLIENT_URL_WHITELIST),h.innerHTML=`\n        <strong style="color: red;">Configuration Error</strong><br>\n        <p>The plugin cannot connect to WoodWing Assets.</p>\n        <p><strong>Parent URL:</strong> <code>${t}</code></p>\n        <p>Please add this URL to the <code>CLIENT_URL_WHITELIST</code> in <code>config.js</code></p>\n        <p><small>Current whitelist: ${JSON.stringify(x.CLIENT_URL_WHITELIST)}</small></p>\n        <p><small>See browser console for more details.</small></p>\n      `,document.getElementById("update").onclick=function(){alert("Cannot update: Plugin not connected to WoodWing Assets.\n\nParent URL: "+t+"\n\nPlease add this URL to CLIENT_URL_WHITELIST in config.js")},b()):(p=!0,console.log(">>> RUNNING IN DEMO MODE <<<"),console.log("Running in demo mode - not connected to WoodWing Assets"),console.log("Error:",e),h.innerHTML="<strong>Demo Mode</strong><br>This plugin must be embedded in WoodWing Assets to work properly. Currently showing demo data.",document.getElementById("update").onclick=function(){v()},b())}})},239(e){e.exports={CLIENT_URL_WHITELIST:["https://shared-poc-dam.qonqord.cloud","http://localhost:50","http://localhost:8080","https://*.woodwing.com","*"],NEW_STATUS:["Send To Cold Storage","Restore from Cold Storage"]}},284(e,t,n){"use strict";n.r(t)},565(e,t,n){var s,o,r;e=n.nmd(e);var i,c,a=["toString","UPDATE_CONTEXT","error","_listeners","log","standalone","object","DNS","assets.checkin","/services/move","Not logged in and no login strategy configured","assets.pin-collections","isSingleItem","binary","clockseq","apiClient","name","6ba7b811-9dad-11d1-80b4-00c04fd430c8","hasSelection","msecs","plugin","csrf","data","queryForFolderSelection","assets.close","_instance","FETCH_RESPONSE","origin","includes","LOGIN_COMPLETE"," OR ","getRandomValues","language","reduce","requestStrategy","include","messages","FetchRequestStrategy","ResponseMessageType","crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported","addListener","LegacyElvisApiWrapper","statusText","assets.fetch-response","keys","createFolder","openBrowse","_context","assets.open-collections","assets.initialize","Unable to authenticate, cause: ","onSuccess","catch","/services/search","pow","onUpdateContext","hasOwnProperty","updatebulk","location","assets.csrfToken","AssetPermissions","Module","toStringTag","type","INITIALIZE_OK","Received message: ","[Assets Plugin Context] ","toLowerCase","random","move","push","assets.login","updatebulkMulti","login","/services/browse","getProfile","loginSuccess","_serverUrl","all","legacyElvisAPI","copy","ProxyRequestStrategy","OPEN_SEARCH","create","/services/csrf","HandlerLoginStrategy","amd","nsecs","charCodeAt","_messages","handleRequest","postMessage","parent","AssetsApiClient","wrapCommand","_requestStrategy","processMessage","now","_loginStrategy","throw","indexOf","OPEN_COLLECTIONS","forEach","assets.open-assets","legacyElvisContext","_urlWhitelist","ConcreteLoginStrategy","assets.cancel-checkout","useAutoLogin","CANCEL_CHECKOUT","ceil","OPEN_ASSETS","context","substitute","remove","/services/update","checkin","concat","GET","initialize","useLoginPage","assets.update-context","checkout","CHECKIN","_subscribers","get","_csrfToken","join","INITIALIZE","/services/fieldinfo","getString","split","assetPath","pinCollections","append","next","setItem","/services/updatebulk","map","assign","rng","POST","browse","__awaiter","done","clientType","__esModule","string","_loginAttemptPromise","fromPluginContext","logout","callback","updateCallback","/services/folder/create","filter","loginCompleteCallback","/services/copy","LegacyElvisContextWrapper","Unable to perform call after logging in. This may be caused by cross-domain access issues.","handle","stringify","replace","asFormData","prototype","/services/createRelation","getCsrfToken","fieldinfo","RequestMessageType","resolveElvisContext","queryForSelection","X-CSRF-TOKEN","activeTab","undefined","cancelCheckout","requestId","credentials","removeRelation","Instantiate the LegacyElvisContextWrapper manually.","value must be an array of bytes","assets.checkout","csrfToken","/services/profile","createRelation","length","assets.login-complete","update","openAssets","localStorage","PIN_COLLECTIONS","removeListener","function","defineProperty","search","isArray","openSearch","message","value","hasFilteredSelection","exports","useLoginHandler","AssetsClientSdk","assets.open-browse","node","serverUrl","resolve","bind","Content-Type","then","openCollections","assets.open-search","status","resolveQueryString","pluginContext","AssetsPluginContext","_connectedClientUrl","fetch","loadMessages","close","LOGIN","CHECKOUT","Please use the queryString properties on the AssetsPluginContext object instead","persistent","0123456789abcdef","OPEN_BROWSE",'ancestorPaths:"',"errorcode","json","apply","subscribe","/services/removeRelation"];i=a,c=294,function(e){for(;--e;)i.push(i.shift())}(++c);var x,l,u=function(e,t){return a[e-=0]};x=window,l=function(){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object[u("0x7f")](e,t,{enumerable:!0,get:s})},n.r=function(e){u("0x6c")!=typeof Symbol&&Symbol[u("0xe4")]&&Object[u("0x7f")](e,Symbol[u("0xe4")],{value:u("0xe3")}),Object[u("0x7f")](e,u("0x52"),{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&u("0xac")==typeof e&&e&&e.__esModule)return e;var s=Object[u("0x13")](null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}[u("0x8d")](null,o));return s},n.n=function(e){var t=e&&e[u("0x52")]?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object[u("0x63")][u("0xde")].call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function s(e){for(var n in e)t[u("0xde")](n)||(t[n]=e[n])}Object[u("0x7f")](t,u("0x52"),{value:!0}),s(n(4)),s(n(7)),s(n(9))},function(e,t,n){"use strict";var s,o;Object[u("0x7f")](t,u("0x52"),{value:!0}),(o=t[u("0xcc")]||(t.ResponseMessageType={})).INITIALIZE=u("0xd7"),o[u("0xc0")]=u("0xd1"),o.UPDATE_CONTEXT=u("0x39"),o[u("0xc3")]=u("0x78"),(s=t[u("0x67")]||(t[u("0x67")]={}))[u("0x0")]="assets.initialize-ok",s.FETCH="assets.fetch",s[u("0x2d")]=u("0x2b"),s[u("0x3b")]=u("0xae"),s[u("0x9b")]=u("0x73"),s.CLOSE=u("0xbe"),s[u("0x9a")]=u("0x7"),s.PIN_COLLECTIONS=u("0xb1"),s.OPEN_COLLECTIONS=u("0xd6"),s[u("0x2f")]=u("0x27"),s[u("0x12")]=u("0x91"),s[u("0x9f")]=u("0x89")},function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(o,r){function i(e){try{a(s.next(e))}catch(e){r(e)}}function c(e){try{a(s[u("0x23")](e))}catch(e){r(e)}}function a(e){var t;e[u("0x50")]?o(e[u("0x84")]):(t=e[u("0x84")],t instanceof n?t:new n(function(e){e(t)}))[u("0x8f")](i,c)}a((s=s[u("0xa3")](e,t||[]))[u("0x47")]())})};Object[u("0x7f")](t,u("0x52"),{value:!0}),t[u("0x11")]=class{constructor(e){this.proxy=e}[u("0x5f")](e,t){const{method:n=u("0x4d"),body:s,skipCsrf:o=!1,asJson:r=!1}=t;return this.proxy(e,{method:n,body:s,skipCsrf:o,asJson:r})[u("0x8f")](e=>{if(e[u("0xa8")])throw e[u("0xa8")];return e})}},t[u("0xcb")]=class{constructor(e){this[u("0x65")]=e}[u("0x5f")](e,t){return s(this,void 0,void 0,function*(){const{method:n=u("0x4d"),body:o,skipCsrf:r=!1,asJson:i=!1}=t,c={};r||(c[u("0x6a")]=yield this[u("0x65")]()),i&&(c[u("0x8e")]="application/json;charset=utf-8");const a={method:n,body:i?JSON[u("0x60")](o):this[u("0x62")](o),headers:c,credentials:u("0xc9")};return"GET"===n&&(e=e+"?"+new URLSearchParams(o)[u("0xa6")](),delete a.body),fetch(e,a).then(e=>s(this,void 0,void 0,function*(){if(e.ok)return e[u("0xa2")]();let t;try{t=yield e[u("0xa2")]()}catch(n){t={errorcode:e[u("0x92")],errorname:e[u("0xd0")]}}throw t}))[u("0x8f")](e=>e)})}[u("0x62")](e){if(!e)return null;const t=new FormData;return Object[u("0xd2")](e)[u("0x26")](n=>t[u("0x46")](n,e[n])),t}}},function(e,t,n){"use strict";Object[u("0x7f")](t,u("0x52"),{value:!0}),t[u("0x15")]=class{constructor(e){this.loginHandler=e}login(e){return this.loginHandler(e)}},t[u("0x2a")]=class{constructor(e,t,n,s,o){this.serverUrl=e,this[u("0xc8")]=t,this[u("0x51")]=n,this[u("0x6f")]=btoa(s+":"+o)}[u("0x9")](e){return this.requestStrategy.handle(this[u("0x8b")]+"/services/login",{method:u("0x4d"),body:Object[u("0x4b")]({cred:this.credentials,clientType:this[u("0x51")]},e),skipCsrf:!0})[u("0x8f")](e=>{if(!e[u("0xc")])throw e.loginFaultMessage;return e})[u("0xda")](e=>{console[u("0xa8")](u("0xd8")+JSON[u("0x60")](e))})}}},function(e,t,n){"use strict";function s(e){for(var n in e)t[u("0xde")](n)||(t[n]=e[n])}Object.defineProperty(t,u("0x52"),{value:!0}),s(n(5)),s(n(6))},function(e,t,n){"use strict";var s=this&&this[u("0x4f")]||function(e,t,n,s){return new(n||(n=Promise))(function(o,r){function i(e){try{a(s[u("0x47")](e))}catch(e){r(e)}}function c(e){try{a(s[u("0x23")](e))}catch(e){r(e)}}function a(e){var t;e[u("0x50")]?o(e[u("0x84")]):(t=e[u("0x84")],t instanceof n?t:new n(function(e){e(t)}))[u("0x8f")](i,c)}a((s=s[u("0xa3")](e,t||[]))[u("0x47")]())})};Object[u("0x7f")](t,u("0x52"),{value:!0});const o=n(1),r=n(11);class i{constructor(e){this[u("0x29")]=e,this[u("0xa9")]=[],this._subscribers=[],this.login=()=>this[u("0x1e")](null,o.RequestMessageType[u("0x9a")],o.ResponseMessageType[u("0xc3")]),this[u("0x97")]=(e,t)=>{const n=r.v4();return this[u("0x1e")]({resource:e,options:t,requestId:n},o.RequestMessageType.FETCH,o[u("0xcc")].FETCH_RESPONSE)[u("0x8f")](e=>{if(e[u("0xa8")])throw e[u("0xa8")];return e})},this[u("0x20")]=e=>{if(this._urlWhitelist[u("0x77")]&&!this._urlWhitelist[u("0xc2")](e[u("0xc1")]))return;this[u("0xaa")](u("0x1")+e[u("0xbc")][u("0xe5")],e.data);const t=e.data;this[u("0xa9")][u("0x5a")](e=>e.messageType===t[u("0xe5")]&&(!e[u("0x6e")]||e[u("0x6e")]===t[u("0x6e")]))[u("0x26")](n=>{t[u("0xe5")]===o[u("0xcc")][u("0x40")]&&(this[u("0x96")]=e[u("0xc1")]),n[u("0x57")](t.data),n[u("0x9d")]||this[u("0x7d")](n)})},this[u("0xdd")]=e=>{this[u("0xd5")]=e,this[u("0x3c")].forEach(e=>e(this._context))}}get context(){return this._context}static[u("0x3d")](e=[]){return s(this,void 0,void 0,function*(){return this[u("0xbf")]?Promise[u("0x8c")](this[u("0xbf")]):(this[u("0xbf")]=new i(e),yield this[u("0xbf")][u("0x37")](),this[u("0xbf")])})}[u("0xa4")](e){return this[u("0x3c")][u("0x6")](e),()=>{this[u("0x3c")]=this[u("0x3c")][u("0x5a")](t=>t!==e)}}hasSelection(){return!!this._context[u("0x6b")].originalAssetSelection[u("0x77")]}[u("0x85")](){return!!this[u("0xd5")].activeTab.assetSelection[u("0x77")]}[u("0xb2")](){return 1===this[u("0xd5")][u("0x6b")].originalAssetSelection[u("0x77")]}[u("0x82")](e,t){this[u("0x1e")]({query:e,sort:t},o[u("0x67")].OPEN_SEARCH)}[u("0xd4")](e,t=!0,n=null,s=null){this.wrapCommand({folderPath:e,includeSubFolders:t,q:n,sort:s},o[u("0x67")][u("0x9f")])}[u("0x7a")](e){this.wrapCommand({assetIds:e},o[u("0x67")][u("0x2f")])}[u("0x3a")](e){this.wrapCommand({assetIds:e},o[u("0x67")][u("0x9b")])}checkin(e){this[u("0x1e")]({assetIds:e},o[u("0x67")].CHECKIN)}[u("0x6d")](e){this[u("0x1e")]({assetIds:e},o[u("0x67")][u("0x2d")])}[u("0x90")](e){this[u("0x1e")]({containerIds:e},o[u("0x67")][u("0x25")])}[u("0x45")](e){this[u("0x1e")]({containerIds:e},o[u("0x67")][u("0x7c")])}close(){this[u("0x1e")](null,o[u("0x67")].CLOSE)}[u("0x1e")](e,t,n){return this.postMessage({data:e,type:t}),n?new Promise(t=>this[u("0xce")](n,t,!1,e[u("0x6e")])):Promise[u("0x8c")](null)}[u("0xce")](e,t,n,s){const o={messageType:e,callback:t,persistent:n,requestId:s};return this[u("0xa9")][u("0x6")](o),()=>this[u("0x7d")](o)}[u("0x7d")](e){this[u("0xa9")]=this[u("0xa9")][u("0x5a")](t=>t!==e)}postMessage(e){this.log("Sending message: "+e.type,e.data),window[u("0x1c")][u("0x1b")](Object.assign(e,{id:this[u("0xd5")][u("0xba")].id}),this[u("0x96")])}[u("0x37")](){return new Promise(e=>{this.addListener(o.ResponseMessageType.INITIALIZE,t=>{this[u("0xdd")](t),this.postMessage({type:o.RequestMessageType[u("0x0")]}),e()}),this[u("0xce")](o.ResponseMessageType[u("0xa7")],this[u("0xdd")],!0),window.addEventListener(u("0x83"),this[u("0x20")])})}[u("0xaa")](e,t){console[u("0xaa")](u("0x2")+e,t)}}t[u("0x95")]=i,t[u("0x5d")]=class{constructor(e){this[u("0x94")]=e,this.hasSelection=this[u("0x94")][u("0xb8")][u("0x8d")](this[u("0x94")]),this[u("0x85")]=this[u("0x94")][u("0x85")][u("0x8d")](this[u("0x94")]),this[u("0xb2")]=this.pluginContext[u("0xb2")].bind(this[u("0x94")]),this.openSearch=this.pluginContext.openSearch[u("0x8d")](this.pluginContext),this[u("0xd4")]=this[u("0x94")][u("0xd4")].bind(this[u("0x94")]),this[u("0x99")]=this[u("0x94")][u("0x99")][u("0x8d")](this[u("0x94")]),Object.assign(this,this[u("0x94")][u("0x30")]),e[u("0xa4")](e=>{Object[u("0x4b")](this,e),this[u("0x58")]&&u("0x7e")==typeof this[u("0x58")]&&this[u("0x58")](e)})}[u("0x7a")](e){this[u("0x94")][u("0x7a")](e[u("0x43")](","))}openContainers(e){this.pluginContext[u("0x90")](e.split(","))}[u("0x3a")](e){this.pluginContext.checkout(e.split(","))}[u("0x34")](e){this.pluginContext[u("0x34")](e.split(","))}cancelCheckout(e){this.pluginContext[u("0x6d")](e[u("0x43")](","))}activateContainers(e){this[u("0x94")][u("0x45")](e[u("0x43")](","))}[u("0x9")](){this.pluginContext[u("0x9")]()[u("0x8f")](()=>{this.loginCompleteCallback&&u("0x7e")==typeof this[u("0x5b")]&&this[u("0x5b")]()})}}},function(e,t,n){"use strict";Object.defineProperty(t,u("0x52"),{value:!0}),function(e){for(var n in e)t[u("0xde")](n)||(t[n]=e[n])}(n(1))},function(e,t,n){"use strict";function s(e){for(var n in e)t[u("0xde")](n)||(t[n]=e[n])}Object[u("0x7f")](t,"__esModule",{value:!0}),s(n(8)),s(n(3)),s(n(2))},function(e,t,n){"use strict";var s=this&&this[u("0x4f")]||function(e,t,n,s){return new(n||(n=Promise))(function(o,r){function i(e){try{a(s[u("0x47")](e))}catch(e){r(e)}}function c(e){try{a(s.throw(e))}catch(e){r(e)}}function a(e){var t;e[u("0x50")]?o(e[u("0x84")]):(t=e.value,t instanceof n?t:new n(function(e){e(t)}))[u("0x8f")](i,c)}a((s=s[u("0xa3")](e,t||[]))[u("0x47")]())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),r=n(3);class i{constructor(e){this[u("0x19")]=e}[u("0x42")](e,...t){let n=this._messages[e];return null==n?e:(t.length&&(n=this.substitute(n,t)),n)}[u("0x31")](e,t){return t[u("0xc7")]((e,t,n)=>e[u("0x61")](new RegExp("\\{"+n+"\\}","g"),t),e)}}class c{constructor(e,t){this[u("0xd")]=e,this[u("0x19")]=new i({}),this[u("0x1f")]=t?new(o[u("0x11")])(t):new(o[u("0xcb")])(this.csrf[u("0x8d")](this)),this[u("0x3e")]=window.localStorage.getItem("assets.csrfToken")}get[u("0xca")](){return this[u("0x19")]}static[u("0xab")](e,t,n,s){const o=new c(e);return o.useAutoLogin(t,n,s),o}static fromPluginContext(e){const t=new c("",e[u("0x97")]);return t[u("0x87")](e[u("0x9")]),t}useAutoLogin(e,t,n){this._loginStrategy=new r.ConcreteLoginStrategy(this._serverUrl,this[u("0x1f")],n,e,t)}[u("0x87")](e){this[u("0x22")]=new(r[u("0x15")])(e)}[u("0x9")](e){if(this[u("0x54")])return this[u("0x54")];this[u("0x54")]=this[u("0x22")][u("0x9")](e)[u("0x8f")](e=>{e&&e[u("0x74")]&&(this._csrfToken=e.csrfToken),this[u("0x54")]=null})}[u("0xb")](){return this.handleRequest(this[u("0xd")]+u("0x75"))}logout(){return this[u("0x1a")](this._serverUrl+"/services/logout")}[u("0x80")](e){return this.handleRequest(this._serverUrl+u("0xdb"),{body:Object.assign({num:"50",metadataToReturn:u("0xe")},e)})}[u("0x4e")](e){return this.handleRequest(this[u("0xd")]+u("0xa"),{body:e})}[u("0x79")](e,t){return this[u("0x1a")](this._serverUrl+u("0x33"),{body:Object[u("0x4b")]({id:e},t)})}[u("0xdf")](e,t){return this[u("0x1a")](this[u("0xd")]+u("0x49"),{body:Object.assign({q:e},t)})}[u("0x8")](e){return this[u("0x1a")](this._serverUrl+u("0x49"),{asJson:!0,body:e})}[u("0x13")](e){return this[u("0x1a")](this._serverUrl+"/services/create",{body:e})}createFolder(e){return this.handleRequest(this[u("0xd")]+u("0x59"),{body:e})}[u("0x10")](e){return this.handleRequest(this._serverUrl+u("0x5c"),{body:e})}[u("0x5")](e){return this[u("0x1a")](this._serverUrl+u("0xaf"),{body:e})}[u("0x76")](e){return this[u("0x1a")](this[u("0xd")]+u("0x64"),{body:e})}[u("0x70")](e){return this[u("0x1a")](this[u("0xd")]+u("0xa5"),{body:e})}[u("0x32")](e){return this.handleRequest(this[u("0xd")]+"/services/remove",{body:e})}fieldinfo(){return this.handleRequest(this[u("0xd")]+u("0x41"))}[u("0xbb")](e=!1){return this[u("0x3e")]&&!e?Promise[u("0x8c")](this[u("0x3e")]):this[u("0x1a")](this[u("0xd")]+u("0x14"),{method:u("0x36"),skipCsrf:!0}).then(e=>(this[u("0x3e")]=e[u("0x74")],window[u("0x7b")][u("0x48")](u("0xe1"),e[u("0x74")]),e[u("0x74")]))}[u("0x98")](e=navigator[u("0xc6")]){return this[u("0x1a")](this[u("0xd")]+"/services/messages",{body:{localeChain:e},skipCsrf:!0,method:u("0x36")}).then(e=>(this[u("0x19")]=new i(e),Object[u("0x4b")]({},e)))}[u("0xd9")](e){if(e[u("0xa1")])throw e;return e}handleRequest(e,t={},n=!0){return s(this,void 0,void 0,function*(){const s=()=>this._requestStrategy[u("0x5f")](e,t)[u("0x8f")](this[u("0xd9")]);try{return yield s()}catch(s){if(!s.errorcode||![401,403][u("0xc2")](s.errorcode))throw s;if(!this[u("0x22")])throw u("0xb0");if(!n)throw u("0x5e");return 403==s[u("0xa1")]&&"CsrfTokenMismatch"===s.errorname?yield this[u("0xbb")](!0):yield this[u("0x9")](),yield this[u("0x1a")](e,t,!1)}})}}t[u("0x1d")]=c,t[u("0xcf")]=class{constructor(e){this[u("0xb5")]=e,this[u("0x2c")]=this[u("0xb5")][u("0x2c")][u("0x8d")](this[u("0xb5")]),this.useLoginHandler=this.apiClient[u("0x87")][u("0x8d")](this.apiClient)}get messages(){return this[u("0xb5")][u("0xca")]}[u("0x98")](e,t,n){const s=this[u("0xb5")].loadMessages(n);t&&s[u("0x8f")](t)}[u("0x38")](e){this[u("0xb5")][u("0x87")](()=>new Promise(()=>{window[u("0xe0")][u("0x4b")](e)}))}usePluginContextAuthentication(){throw"No longer used! Instantiate your AssetsApiClient with the fromPluginContext function."}[u("0x9")](e,t,n,s){e&&t&&(s=Object[u("0x4b")](s||{},{cred:btoa(e+":"+t)}));const o=this[u("0xb5")].login(s);n&&o[u("0x8f")](n)}[u("0xb")](e){const t=this[u("0xb5")][u("0xb")]();e&&t[u("0x8f")](e)}[u("0x56")](e){if(e&&u("0x7e")!=typeof e)throw"Redirects after login are no longer supported, use the callback function for this purpose";const t=this[u("0xb5")].logout();e&&t.then(e)}search(e,t){const n=this[u("0xb5")][u("0x80")](e);t&&n[u("0x8f")](t)}[u("0x4e")](e,t){const n=this.apiClient[u("0x4e")](e);t&&n[u("0x8f")](t)}[u("0x79")](e,t,n){const s=this[u("0xb5")][u("0x79")](e,t);n&&s.then(n)}[u("0xdf")](e,t,n){const s=this[u("0xb5")].updatebulk(e,t);n&&s[u("0x8f")](n)}[u("0x13")](e,t){const n=this[u("0xb5")][u("0x13")](e);t&&n[u("0x8f")](t)}createFolder(e,t){const n=this.apiClient[u("0xd3")](e);t&&n[u("0x8f")](t)}copy(e,t){const n=this[u("0xb5")][u("0x10")](e);t&&n.then(t)}move(e,t){const n=this[u("0xb5")][u("0x5")](e);t&&n[u("0x8f")](t)}[u("0x76")](e,t){const n=this[u("0xb5")][u("0x76")](e);t&&n.then(t)}removeRelation(e,t){const n=this[u("0xb5")].removeRelation(e);t&&n[u("0x8f")](t)}[u("0x32")](e,t){const n=this.apiClient.remove(e);t&&n.then(t)}[u("0x66")](e){const t=this.apiClient[u("0x66")]();e&&t[u("0x8f")](e)}[u("0xbb")](e){const t=this[u("0xb5")][u("0xbb")]();e&&t.then(e)}},t.queryForSelection=e=>0===e.length?"":"("+e.map(e=>"id:"+e.id).join(u("0xc4"))+")",t[u("0xbd")]=e=>0===e[u("0x77")]?"":"("+e[u("0x4a")](e=>u("0xa0")+e[u("0x44")]+'"')[u("0x3f")](u("0xc4"))+")";class a{static[u("0x68")](){throw u("0x71")}static[u("0x93")](){throw u("0x9c")}}t.LegacyElvisPlugin=a,a[u("0x69")]=t[u("0x69")],a.queryForFolderSelection=t[u("0xbd")],t[u("0xe2")]=class{static hasViewPreview(e){return e&&-1!=e[u("0x24")]("P")}static hasUseOriginal(e){return e&&-1!=e[u("0x24")]("U")}}},function(e,t,n){"use strict";Object[u("0x7f")](t,u("0x52"),{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(10))},function(e,t,n){"use strict";var s=this&&this[u("0x4f")]||function(e,t,n,s){return new(n||(n=Promise))(function(o,r){function i(e){try{a(s.next(e))}catch(e){r(e)}}function c(e){try{a(s[u("0x23")](e))}catch(e){r(e)}}function a(e){var t;e[u("0x50")]?o(e[u("0x84")]):(t=e[u("0x84")],t instanceof n?t:new n(function(e){e(t)}))[u("0x8f")](i,c)}a((s=s[u("0xa3")](e,t||[])).next())})};Object[u("0x7f")](t,u("0x52"),{value:!0});const o=n(0);t[u("0x28")]=function(){return s(this,void 0,void 0,function*(){const e=yield o.AssetsPluginContext.get();return new(o[u("0x5d")])(e)})},t[u("0xf")]=function(){return s(this,void 0,void 0,function*(){const e=yield o.AssetsPluginContext[u("0x3d")](),t=o[u("0x1d")][u("0x55")](e);return new o.LegacyElvisApiWrapper(t)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"v1",function(){return f}),n.d(t,"v3",function(){return T}),n.d(t,"v4",function(){return S}),n.d(t,"v5",function(){return _});var s=u("0x6c")!=typeof crypto&&crypto[u("0xc5")]&&crypto[u("0xc5")][u("0x8d")](crypto)||u("0x6c")!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function r(){if(!s)throw new Error(u("0xcd"));return s(o)}for(var i=[],c=0;c<256;++c)i.push((c+256).toString(16).substr(1));var a,x,l=function(e,t){var n=t||0,s=i;return(s[e[n+0]]+s[e[n+1]]+s[e[n+2]]+s[e[n+3]]+"-"+s[e[n+4]]+s[e[n+5]]+"-"+s[e[n+6]]+s[e[n+7]]+"-"+s[e[n+8]]+s[e[n+9]]+"-"+s[e[n+10]]+s[e[n+11]]+s[e[n+12]]+s[e[n+13]]+s[e[n+14]]+s[e[n+15]])[u("0x3")]()},d=0,h=0,f=function(e,t,n){var s=t&&n||0,o=t||[],i=(e=e||{})[u("0x8a")]||a,c=void 0!==e.clockseq?e[u("0xb4")]:x;if(null==i||null==c){var f=e[u("0x4")]||(e[u("0x4c")]||r)();null==i&&(i=a=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==c&&(c=x=16383&(f[6]<<8|f[7]))}var g=void 0!==e[u("0xb9")]?e.msecs:Date[u("0x21")](),p=void 0!==e[u("0x17")]?e[u("0x17")]:h+1,b=g-d+(p-h)/1e4;if(b<0&&void 0===e[u("0xb4")]&&(c=c+1&16383),(b<0||g>d)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=g,h=p,x=c;var v=(1e4*(268435455&(g+=122192928e5))+p)%4294967296;o[s++]=v>>>24&255,o[s++]=v>>>16&255,o[s++]=v>>>8&255,o[s++]=255&v;var y=g/4294967296*1e4&268435455;o[s++]=y>>>8&255,o[s++]=255&y,o[s++]=y>>>24&15|16,o[s++]=y>>>16&255,o[s++]=c>>>8|128,o[s++]=255&c;for(var m=0;m<6;++m)o[s+m]=i[m];return t||l(o)},g=function(e,t,n){function s(e,s,o,r){var i,c=o&&r||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e[u("0x77")];++n)t.push(e[u("0x18")](n));return t}(e)),u("0x53")==typeof s&&(i=[],s[u("0x61")](/[a-fA-F0-9]{2}/g,function(e){i.push(parseInt(e,16))}),s=i),!Array[u("0x81")](e))throw TypeError(u("0x72"));if(!Array[u("0x81")](s)||16!==s[u("0x77")])throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=n(s[u("0x35")](e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,o)for(var x=0;x<16;++x)o[c+x]=a[x];return o||l(a)}try{s[u("0xb6")]=e}catch(e){}return s[u("0xad")]="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL=u("0xb7"),s};function p(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function v(e,t,n,s,o,r){return b((i=b(b(t,e),b(s,r)))<<(c=o)|i>>>32-c,n);var i,c}function y(e,t,n,s,o,r,i){return v(t&n|~t&s,e,t,o,r,i)}function m(e,t,n,s,o,r,i){return v(t&s|n&~s,e,t,o,r,i)}function w(e,t,n,s,o,r,i){return v(t^n^s,e,t,o,r,i)}function C(e,t,n,s,o,r,i){return v(n^(t|~s),e,t,o,r,i)}var T=g("v3",48,function(e){if(u("0x53")==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t[u("0x77")]);for(var n=0;n<t[u("0x77")];++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e[u("0x77")],s=0;s<n;s+=8){var o=e[s>>5]>>>s%32&255,r=parseInt("0123456789abcdef".charAt(o>>>4&15)+u("0x9e").charAt(15&o),16);t.push(r)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[p(t)-1]=t;for(var n=1732584193,s=-271733879,o=-1732584194,r=271733878,i=0;i<e[u("0x77")];i+=16){var c=n,a=s,x=o,l=r;n=y(n,s,o,r,e[i],7,-680876936),r=y(r,n,s,o,e[i+1],12,-389564586),o=y(o,r,n,s,e[i+2],17,606105819),s=y(s,o,r,n,e[i+3],22,-1044525330),n=y(n,s,o,r,e[i+4],7,-176418897),r=y(r,n,s,o,e[i+5],12,1200080426),o=y(o,r,n,s,e[i+6],17,-1473231341),s=y(s,o,r,n,e[i+7],22,-45705983),n=y(n,s,o,r,e[i+8],7,1770035416),r=y(r,n,s,o,e[i+9],12,-1958414417),o=y(o,r,n,s,e[i+10],17,-42063),s=y(s,o,r,n,e[i+11],22,-1990404162),n=y(n,s,o,r,e[i+12],7,1804603682),r=y(r,n,s,o,e[i+13],12,-40341101),o=y(o,r,n,s,e[i+14],17,-1502002290),n=m(n,s=y(s,o,r,n,e[i+15],22,1236535329),o,r,e[i+1],5,-165796510),r=m(r,n,s,o,e[i+6],9,-1069501632),o=m(o,r,n,s,e[i+11],14,643717713),s=m(s,o,r,n,e[i],20,-373897302),n=m(n,s,o,r,e[i+5],5,-701558691),r=m(r,n,s,o,e[i+10],9,38016083),o=m(o,r,n,s,e[i+15],14,-660478335),s=m(s,o,r,n,e[i+4],20,-405537848),n=m(n,s,o,r,e[i+9],5,568446438),r=m(r,n,s,o,e[i+14],9,-1019803690),o=m(o,r,n,s,e[i+3],14,-187363961),s=m(s,o,r,n,e[i+8],20,1163531501),n=m(n,s,o,r,e[i+13],5,-1444681467),r=m(r,n,s,o,e[i+2],9,-51403784),o=m(o,r,n,s,e[i+7],14,1735328473),n=w(n,s=m(s,o,r,n,e[i+12],20,-1926607734),o,r,e[i+5],4,-378558),r=w(r,n,s,o,e[i+8],11,-2022574463),o=w(o,r,n,s,e[i+11],16,1839030562),s=w(s,o,r,n,e[i+14],23,-35309556),n=w(n,s,o,r,e[i+1],4,-1530992060),r=w(r,n,s,o,e[i+4],11,1272893353),o=w(o,r,n,s,e[i+7],16,-155497632),s=w(s,o,r,n,e[i+10],23,-1094730640),n=w(n,s,o,r,e[i+13],4,681279174),r=w(r,n,s,o,e[i],11,-358537222),o=w(o,r,n,s,e[i+3],16,-722521979),s=w(s,o,r,n,e[i+6],23,76029189),n=w(n,s,o,r,e[i+9],4,-640364487),r=w(r,n,s,o,e[i+12],11,-421815835),o=w(o,r,n,s,e[i+15],16,530742520),n=C(n,s=w(s,o,r,n,e[i+2],23,-995338651),o,r,e[i],6,-198630844),r=C(r,n,s,o,e[i+7],10,1126891415),o=C(o,r,n,s,e[i+14],15,-1416354905),s=C(s,o,r,n,e[i+5],21,-57434055),n=C(n,s,o,r,e[i+12],6,1700485571),r=C(r,n,s,o,e[i+3],10,-1894986606),o=C(o,r,n,s,e[i+10],15,-1051523),s=C(s,o,r,n,e[i+1],21,-2054922799),n=C(n,s,o,r,e[i+8],6,1873313359),r=C(r,n,s,o,e[i+15],10,-30611744),o=C(o,r,n,s,e[i+6],15,-1560198380),s=C(s,o,r,n,e[i+13],21,1309151649),n=C(n,s,o,r,e[i+4],6,-145523070),r=C(r,n,s,o,e[i+11],10,-1120210379),o=C(o,r,n,s,e[i+2],15,718787259),s=C(s,o,r,n,e[i+9],21,-343485551),n=b(n,c),s=b(s,a),o=b(o,x),r=b(r,l)}return[n,s,o,r]}(function(e){if(0===e.length)return[];for(var t=8*e[u("0x77")],n=new Uint32Array(p(t)),s=0;s<t;s+=8)n[s>>5]|=(255&e[s/8])<<s%32;return n}(e),8*e[u("0x77")]))}),S=function(e,t,n){"string"==typeof e&&(t=u("0xb3")===e?new Uint8Array(16):null,e=null);var s=(e=e||{})[u("0x4")]||(e[u("0x4c")]||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){for(var o=n||0,i=0;i<16;++i)t[o+i]=s[i];return t}return l(s)};function E(e,t,n,s){switch(e){case 0:return t&n^~t&s;case 1:case 3:return t^n^s;case 2:return t&n^t&s^n&s}}function O(e,t){return e<<t|e>>>32-t}var _=g("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(u("0x53")==typeof e){var s=unescape(encodeURIComponent(e));e=[];for(var o=0;o<s.length;++o)e[u("0x6")](s[u("0x18")](o))}e[u("0x6")](128);for(var r=e.length/4+2,i=Math[u("0x2e")](r/16),c=new Array(i),a=0;a<i;++a){for(var x=new Uint32Array(16),l=0;l<16;++l)x[l]=e[64*a+4*l]<<24|e[64*a+4*l+1]<<16|e[64*a+4*l+2]<<8|e[64*a+4*l+3];c[a]=x}c[i-1][14]=8*(e[u("0x77")]-1)/Math[u("0xdc")](2,32),c[i-1][14]=Math.floor(c[i-1][14]),c[i-1][15]=8*(e[u("0x77")]-1)&4294967295;for(var d=0;d<i;++d){for(var h=new Uint32Array(80),f=0;f<16;++f)h[f]=c[d][f];for(var g=16;g<80;++g)h[g]=O(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var p=n[0],b=n[1],v=n[2],y=n[3],m=n[4],w=0;w<80;++w){var C=Math.floor(w/20),T=O(p,5)+E(C,b,v,y)+m+t[C]+h[w]>>>0;m=y,y=v,v=O(b,30)>>>0,b=p,p=T}n[0]=n[0]+p>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+m>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})}])},u("0xac")==typeof t?e[u("0x86")]=l():"function"==u("0x7e")&&n.amdD[u("0x16")]?(o=[],void 0===(r="function"==typeof(s=l)?s.apply(t,o):s)||(e.exports=r)):u("0xac")==typeof t?t[u("0x88")]=l():x[u("0x88")]=l()}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(156)})();