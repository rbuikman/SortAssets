(()=>{var e={156(e,t,n){"use strict";var s,o=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,o)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),i=0;i<n.length;i++)"default"!==n[i]&&o(t,e,n[i]);return r(t,e),t}),a=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(o,r){function i(e){try{c(s.next(e))}catch(e){r(e)}}function a(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const c=n(565);n(284);const x=i(n(239)),u=document.getElementById("folderDiv"),l=document.getElementById("status"),d=document.getElementById("statusLabel"),h=document.getElementById("intro");let f,p,g=!1;const b=()=>{let e;console.log("loadStatus called, isDemoMode:",g),e=g?[{name:"Demo Folder",assetPath:"/demo/folder"}]:p.context.activeTab.folderSelection,u.innerHTML="<b>Folder</b>: "+e[0].name;const t=x.NEW_STATUS;console.log("Status options:",t);let n="";t.forEach(function(e){n+='<option value="'+e+'">'+e+"</option>"}),l.innerHTML=n,d.innerHTML="<b>Status</b>: ",console.log("Status dropdown populated with",t.length,"options")};function v(){return a(this,void 0,void 0,function*(){if(g)return void alert("Demo mode: This would update assets in the selected folder with the chosen status.");const e=p.context.activeTab.folderSelection,t=document.getElementById("status").value,n='ancestorPaths:"'+e[0].assetPath+'" -status:"'+t+'"',s={status:t};yield f.updatebulk(n,s),p.close()})}a(void 0,void 0,void 0,function*(){var e,t,n;console.log("Plugin initialization started");try{console.log("Attempting to connect to Assets SDK...");const e=new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout: Not embedded in WoodWing Assets")),2e3));p=yield Promise.race([c.AssetsPluginContext.get(x.CLIENT_URL_WHITELIST),e]),console.log("Connected to Assets SDK successfully"),f=c.AssetsApiClient.fromPluginContext(p),document.getElementById("update").onclick=function(){v()},yield b()}catch(s){console.error("Error during initialization:",s);const o=(null===(e=window.location.ancestorOrigins)||void 0===e?void 0:e[0])||(null===(n=null===(t=window.parent)||void 0===t?void 0:t.location)||void 0===n?void 0:n.origin)||"unknown",r=(null==s?void 0:s.message)||(null==s?void 0:s.toString())||"Unknown error";r.includes("whitelist")||r.includes("not allowed")||r.includes("origin")?(g=!0,console.error("Whitelist error:",s),console.log("Current parent URL:",o),console.log("Configured whitelist:",x.CLIENT_URL_WHITELIST),h.innerHTML=`\n        <strong style="color: red;">Configuration Error</strong><br>\n        <p>The plugin cannot connect to WoodWing Assets.</p>\n        <p><strong>Parent URL:</strong> ${o}</p>\n        <p>Please add this URL to the <code>CLIENT_URL_WHITELIST</code> in config.js</p>\n        <p><small>See browser console for more details.</small></p>\n      `,document.getElementById("update").onclick=function(){alert("Cannot update: Plugin not connected to WoodWing Assets.\n\nParent URL: "+o+"\n\nAdd this URL to CLIENT_URL_WHITELIST in config.js")},b()):(g=!0,console.log("Running in demo mode - not connected to WoodWing Assets"),console.log("Error:",s),h.innerHTML="<strong>Demo Mode</strong><br>This plugin must be embedded in WoodWing Assets to work properly. Currently showing demo data.",document.getElementById("update").onclick=function(){v()},b())}})},239(e){e.exports={CLIENT_URL_WHITELIST:["http://localhost:50","http://localhost:8080","https://*.woodwing.com","*"],NEW_STATUS:["Send To Cold Storage","Restore from Cold Storage"]}},284(e,t,n){"use strict";n.r(t)},565(e,t,n){var s,o,r;e=n.nmd(e);var i,a,c=["toString","UPDATE_CONTEXT","error","_listeners","log","standalone","object","DNS","assets.checkin","/services/move","Not logged in and no login strategy configured","assets.pin-collections","isSingleItem","binary","clockseq","apiClient","name","6ba7b811-9dad-11d1-80b4-00c04fd430c8","hasSelection","msecs","plugin","csrf","data","queryForFolderSelection","assets.close","_instance","FETCH_RESPONSE","origin","includes","LOGIN_COMPLETE"," OR ","getRandomValues","language","reduce","requestStrategy","include","messages","FetchRequestStrategy","ResponseMessageType","crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported","addListener","LegacyElvisApiWrapper","statusText","assets.fetch-response","keys","createFolder","openBrowse","_context","assets.open-collections","assets.initialize","Unable to authenticate, cause: ","onSuccess","catch","/services/search","pow","onUpdateContext","hasOwnProperty","updatebulk","location","assets.csrfToken","AssetPermissions","Module","toStringTag","type","INITIALIZE_OK","Received message: ","[Assets Plugin Context] ","toLowerCase","random","move","push","assets.login","updatebulkMulti","login","/services/browse","getProfile","loginSuccess","_serverUrl","all","legacyElvisAPI","copy","ProxyRequestStrategy","OPEN_SEARCH","create","/services/csrf","HandlerLoginStrategy","amd","nsecs","charCodeAt","_messages","handleRequest","postMessage","parent","AssetsApiClient","wrapCommand","_requestStrategy","processMessage","now","_loginStrategy","throw","indexOf","OPEN_COLLECTIONS","forEach","assets.open-assets","legacyElvisContext","_urlWhitelist","ConcreteLoginStrategy","assets.cancel-checkout","useAutoLogin","CANCEL_CHECKOUT","ceil","OPEN_ASSETS","context","substitute","remove","/services/update","checkin","concat","GET","initialize","useLoginPage","assets.update-context","checkout","CHECKIN","_subscribers","get","_csrfToken","join","INITIALIZE","/services/fieldinfo","getString","split","assetPath","pinCollections","append","next","setItem","/services/updatebulk","map","assign","rng","POST","browse","__awaiter","done","clientType","__esModule","string","_loginAttemptPromise","fromPluginContext","logout","callback","updateCallback","/services/folder/create","filter","loginCompleteCallback","/services/copy","LegacyElvisContextWrapper","Unable to perform call after logging in. This may be caused by cross-domain access issues.","handle","stringify","replace","asFormData","prototype","/services/createRelation","getCsrfToken","fieldinfo","RequestMessageType","resolveElvisContext","queryForSelection","X-CSRF-TOKEN","activeTab","undefined","cancelCheckout","requestId","credentials","removeRelation","Instantiate the LegacyElvisContextWrapper manually.","value must be an array of bytes","assets.checkout","csrfToken","/services/profile","createRelation","length","assets.login-complete","update","openAssets","localStorage","PIN_COLLECTIONS","removeListener","function","defineProperty","search","isArray","openSearch","message","value","hasFilteredSelection","exports","useLoginHandler","AssetsClientSdk","assets.open-browse","node","serverUrl","resolve","bind","Content-Type","then","openCollections","assets.open-search","status","resolveQueryString","pluginContext","AssetsPluginContext","_connectedClientUrl","fetch","loadMessages","close","LOGIN","CHECKOUT","Please use the queryString properties on the AssetsPluginContext object instead","persistent","0123456789abcdef","OPEN_BROWSE",'ancestorPaths:"',"errorcode","json","apply","subscribe","/services/removeRelation"];i=c,a=294,function(e){for(;--e;)i.push(i.shift())}(++a);var x,u,l=function(e,t){return c[e-=0]};x=window,u=function(){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object[l("0x7f")](e,t,{enumerable:!0,get:s})},n.r=function(e){l("0x6c")!=typeof Symbol&&Symbol[l("0xe4")]&&Object[l("0x7f")](e,Symbol[l("0xe4")],{value:l("0xe3")}),Object[l("0x7f")](e,l("0x52"),{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&l("0xac")==typeof e&&e&&e.__esModule)return e;var s=Object[l("0x13")](null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}[l("0x8d")](null,o));return s},n.n=function(e){var t=e&&e[l("0x52")]?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object[l("0x63")][l("0xde")].call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function s(e){for(var n in e)t[l("0xde")](n)||(t[n]=e[n])}Object[l("0x7f")](t,l("0x52"),{value:!0}),s(n(4)),s(n(7)),s(n(9))},function(e,t,n){"use strict";var s,o;Object[l("0x7f")](t,l("0x52"),{value:!0}),(o=t[l("0xcc")]||(t.ResponseMessageType={})).INITIALIZE=l("0xd7"),o[l("0xc0")]=l("0xd1"),o.UPDATE_CONTEXT=l("0x39"),o[l("0xc3")]=l("0x78"),(s=t[l("0x67")]||(t[l("0x67")]={}))[l("0x0")]="assets.initialize-ok",s.FETCH="assets.fetch",s[l("0x2d")]=l("0x2b"),s[l("0x3b")]=l("0xae"),s[l("0x9b")]=l("0x73"),s.CLOSE=l("0xbe"),s[l("0x9a")]=l("0x7"),s.PIN_COLLECTIONS=l("0xb1"),s.OPEN_COLLECTIONS=l("0xd6"),s[l("0x2f")]=l("0x27"),s[l("0x12")]=l("0x91"),s[l("0x9f")]=l("0x89")},function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(o,r){function i(e){try{c(s.next(e))}catch(e){r(e)}}function a(e){try{c(s[l("0x23")](e))}catch(e){r(e)}}function c(e){var t;e[l("0x50")]?o(e[l("0x84")]):(t=e[l("0x84")],t instanceof n?t:new n(function(e){e(t)}))[l("0x8f")](i,a)}c((s=s[l("0xa3")](e,t||[]))[l("0x47")]())})};Object[l("0x7f")](t,l("0x52"),{value:!0}),t[l("0x11")]=class{constructor(e){this.proxy=e}[l("0x5f")](e,t){const{method:n=l("0x4d"),body:s,skipCsrf:o=!1,asJson:r=!1}=t;return this.proxy(e,{method:n,body:s,skipCsrf:o,asJson:r})[l("0x8f")](e=>{if(e[l("0xa8")])throw e[l("0xa8")];return e})}},t[l("0xcb")]=class{constructor(e){this[l("0x65")]=e}[l("0x5f")](e,t){return s(this,void 0,void 0,function*(){const{method:n=l("0x4d"),body:o,skipCsrf:r=!1,asJson:i=!1}=t,a={};r||(a[l("0x6a")]=yield this[l("0x65")]()),i&&(a[l("0x8e")]="application/json;charset=utf-8");const c={method:n,body:i?JSON[l("0x60")](o):this[l("0x62")](o),headers:a,credentials:l("0xc9")};return"GET"===n&&(e=e+"?"+new URLSearchParams(o)[l("0xa6")](),delete c.body),fetch(e,c).then(e=>s(this,void 0,void 0,function*(){if(e.ok)return e[l("0xa2")]();let t;try{t=yield e[l("0xa2")]()}catch(n){t={errorcode:e[l("0x92")],errorname:e[l("0xd0")]}}throw t}))[l("0x8f")](e=>e)})}[l("0x62")](e){if(!e)return null;const t=new FormData;return Object[l("0xd2")](e)[l("0x26")](n=>t[l("0x46")](n,e[n])),t}}},function(e,t,n){"use strict";Object[l("0x7f")](t,l("0x52"),{value:!0}),t[l("0x15")]=class{constructor(e){this.loginHandler=e}login(e){return this.loginHandler(e)}},t[l("0x2a")]=class{constructor(e,t,n,s,o){this.serverUrl=e,this[l("0xc8")]=t,this[l("0x51")]=n,this[l("0x6f")]=btoa(s+":"+o)}[l("0x9")](e){return this.requestStrategy.handle(this[l("0x8b")]+"/services/login",{method:l("0x4d"),body:Object[l("0x4b")]({cred:this.credentials,clientType:this[l("0x51")]},e),skipCsrf:!0})[l("0x8f")](e=>{if(!e[l("0xc")])throw e.loginFaultMessage;return e})[l("0xda")](e=>{console[l("0xa8")](l("0xd8")+JSON[l("0x60")](e))})}}},function(e,t,n){"use strict";function s(e){for(var n in e)t[l("0xde")](n)||(t[n]=e[n])}Object.defineProperty(t,l("0x52"),{value:!0}),s(n(5)),s(n(6))},function(e,t,n){"use strict";var s=this&&this[l("0x4f")]||function(e,t,n,s){return new(n||(n=Promise))(function(o,r){function i(e){try{c(s[l("0x47")](e))}catch(e){r(e)}}function a(e){try{c(s[l("0x23")](e))}catch(e){r(e)}}function c(e){var t;e[l("0x50")]?o(e[l("0x84")]):(t=e[l("0x84")],t instanceof n?t:new n(function(e){e(t)}))[l("0x8f")](i,a)}c((s=s[l("0xa3")](e,t||[]))[l("0x47")]())})};Object[l("0x7f")](t,l("0x52"),{value:!0});const o=n(1),r=n(11);class i{constructor(e){this[l("0x29")]=e,this[l("0xa9")]=[],this._subscribers=[],this.login=()=>this[l("0x1e")](null,o.RequestMessageType[l("0x9a")],o.ResponseMessageType[l("0xc3")]),this[l("0x97")]=(e,t)=>{const n=r.v4();return this[l("0x1e")]({resource:e,options:t,requestId:n},o.RequestMessageType.FETCH,o[l("0xcc")].FETCH_RESPONSE)[l("0x8f")](e=>{if(e[l("0xa8")])throw e[l("0xa8")];return e})},this[l("0x20")]=e=>{if(this._urlWhitelist[l("0x77")]&&!this._urlWhitelist[l("0xc2")](e[l("0xc1")]))return;this[l("0xaa")](l("0x1")+e[l("0xbc")][l("0xe5")],e.data);const t=e.data;this[l("0xa9")][l("0x5a")](e=>e.messageType===t[l("0xe5")]&&(!e[l("0x6e")]||e[l("0x6e")]===t[l("0x6e")]))[l("0x26")](n=>{t[l("0xe5")]===o[l("0xcc")][l("0x40")]&&(this[l("0x96")]=e[l("0xc1")]),n[l("0x57")](t.data),n[l("0x9d")]||this[l("0x7d")](n)})},this[l("0xdd")]=e=>{this[l("0xd5")]=e,this[l("0x3c")].forEach(e=>e(this._context))}}get context(){return this._context}static[l("0x3d")](e=[]){return s(this,void 0,void 0,function*(){return this[l("0xbf")]?Promise[l("0x8c")](this[l("0xbf")]):(this[l("0xbf")]=new i(e),yield this[l("0xbf")][l("0x37")](),this[l("0xbf")])})}[l("0xa4")](e){return this[l("0x3c")][l("0x6")](e),()=>{this[l("0x3c")]=this[l("0x3c")][l("0x5a")](t=>t!==e)}}hasSelection(){return!!this._context[l("0x6b")].originalAssetSelection[l("0x77")]}[l("0x85")](){return!!this[l("0xd5")].activeTab.assetSelection[l("0x77")]}[l("0xb2")](){return 1===this[l("0xd5")][l("0x6b")].originalAssetSelection[l("0x77")]}[l("0x82")](e,t){this[l("0x1e")]({query:e,sort:t},o[l("0x67")].OPEN_SEARCH)}[l("0xd4")](e,t=!0,n=null,s=null){this.wrapCommand({folderPath:e,includeSubFolders:t,q:n,sort:s},o[l("0x67")][l("0x9f")])}[l("0x7a")](e){this.wrapCommand({assetIds:e},o[l("0x67")][l("0x2f")])}[l("0x3a")](e){this.wrapCommand({assetIds:e},o[l("0x67")][l("0x9b")])}checkin(e){this[l("0x1e")]({assetIds:e},o[l("0x67")].CHECKIN)}[l("0x6d")](e){this[l("0x1e")]({assetIds:e},o[l("0x67")][l("0x2d")])}[l("0x90")](e){this[l("0x1e")]({containerIds:e},o[l("0x67")][l("0x25")])}[l("0x45")](e){this[l("0x1e")]({containerIds:e},o[l("0x67")][l("0x7c")])}close(){this[l("0x1e")](null,o[l("0x67")].CLOSE)}[l("0x1e")](e,t,n){return this.postMessage({data:e,type:t}),n?new Promise(t=>this[l("0xce")](n,t,!1,e[l("0x6e")])):Promise[l("0x8c")](null)}[l("0xce")](e,t,n,s){const o={messageType:e,callback:t,persistent:n,requestId:s};return this[l("0xa9")][l("0x6")](o),()=>this[l("0x7d")](o)}[l("0x7d")](e){this[l("0xa9")]=this[l("0xa9")][l("0x5a")](t=>t!==e)}postMessage(e){this.log("Sending message: "+e.type,e.data),window[l("0x1c")][l("0x1b")](Object.assign(e,{id:this[l("0xd5")][l("0xba")].id}),this[l("0x96")])}[l("0x37")](){return new Promise(e=>{this.addListener(o.ResponseMessageType.INITIALIZE,t=>{this[l("0xdd")](t),this.postMessage({type:o.RequestMessageType[l("0x0")]}),e()}),this[l("0xce")](o.ResponseMessageType[l("0xa7")],this[l("0xdd")],!0),window.addEventListener(l("0x83"),this[l("0x20")])})}[l("0xaa")](e,t){console[l("0xaa")](l("0x2")+e,t)}}t[l("0x95")]=i,t[l("0x5d")]=class{constructor(e){this[l("0x94")]=e,this.hasSelection=this[l("0x94")][l("0xb8")][l("0x8d")](this[l("0x94")]),this[l("0x85")]=this[l("0x94")][l("0x85")][l("0x8d")](this[l("0x94")]),this[l("0xb2")]=this.pluginContext[l("0xb2")].bind(this[l("0x94")]),this.openSearch=this.pluginContext.openSearch[l("0x8d")](this.pluginContext),this[l("0xd4")]=this[l("0x94")][l("0xd4")].bind(this[l("0x94")]),this[l("0x99")]=this[l("0x94")][l("0x99")][l("0x8d")](this[l("0x94")]),Object.assign(this,this[l("0x94")][l("0x30")]),e[l("0xa4")](e=>{Object[l("0x4b")](this,e),this[l("0x58")]&&l("0x7e")==typeof this[l("0x58")]&&this[l("0x58")](e)})}[l("0x7a")](e){this[l("0x94")][l("0x7a")](e[l("0x43")](","))}openContainers(e){this.pluginContext[l("0x90")](e.split(","))}[l("0x3a")](e){this.pluginContext.checkout(e.split(","))}[l("0x34")](e){this.pluginContext[l("0x34")](e.split(","))}cancelCheckout(e){this.pluginContext[l("0x6d")](e[l("0x43")](","))}activateContainers(e){this[l("0x94")][l("0x45")](e[l("0x43")](","))}[l("0x9")](){this.pluginContext[l("0x9")]()[l("0x8f")](()=>{this.loginCompleteCallback&&l("0x7e")==typeof this[l("0x5b")]&&this[l("0x5b")]()})}}},function(e,t,n){"use strict";Object.defineProperty(t,l("0x52"),{value:!0}),function(e){for(var n in e)t[l("0xde")](n)||(t[n]=e[n])}(n(1))},function(e,t,n){"use strict";function s(e){for(var n in e)t[l("0xde")](n)||(t[n]=e[n])}Object[l("0x7f")](t,"__esModule",{value:!0}),s(n(8)),s(n(3)),s(n(2))},function(e,t,n){"use strict";var s=this&&this[l("0x4f")]||function(e,t,n,s){return new(n||(n=Promise))(function(o,r){function i(e){try{c(s[l("0x47")](e))}catch(e){r(e)}}function a(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e[l("0x50")]?o(e[l("0x84")]):(t=e.value,t instanceof n?t:new n(function(e){e(t)}))[l("0x8f")](i,a)}c((s=s[l("0xa3")](e,t||[]))[l("0x47")]())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),r=n(3);class i{constructor(e){this[l("0x19")]=e}[l("0x42")](e,...t){let n=this._messages[e];return null==n?e:(t.length&&(n=this.substitute(n,t)),n)}[l("0x31")](e,t){return t[l("0xc7")]((e,t,n)=>e[l("0x61")](new RegExp("\\{"+n+"\\}","g"),t),e)}}class a{constructor(e,t){this[l("0xd")]=e,this[l("0x19")]=new i({}),this[l("0x1f")]=t?new(o[l("0x11")])(t):new(o[l("0xcb")])(this.csrf[l("0x8d")](this)),this[l("0x3e")]=window.localStorage.getItem("assets.csrfToken")}get[l("0xca")](){return this[l("0x19")]}static[l("0xab")](e,t,n,s){const o=new a(e);return o.useAutoLogin(t,n,s),o}static fromPluginContext(e){const t=new a("",e[l("0x97")]);return t[l("0x87")](e[l("0x9")]),t}useAutoLogin(e,t,n){this._loginStrategy=new r.ConcreteLoginStrategy(this._serverUrl,this[l("0x1f")],n,e,t)}[l("0x87")](e){this[l("0x22")]=new(r[l("0x15")])(e)}[l("0x9")](e){if(this[l("0x54")])return this[l("0x54")];this[l("0x54")]=this[l("0x22")][l("0x9")](e)[l("0x8f")](e=>{e&&e[l("0x74")]&&(this._csrfToken=e.csrfToken),this[l("0x54")]=null})}[l("0xb")](){return this.handleRequest(this[l("0xd")]+l("0x75"))}logout(){return this[l("0x1a")](this._serverUrl+"/services/logout")}[l("0x80")](e){return this.handleRequest(this._serverUrl+l("0xdb"),{body:Object.assign({num:"50",metadataToReturn:l("0xe")},e)})}[l("0x4e")](e){return this.handleRequest(this[l("0xd")]+l("0xa"),{body:e})}[l("0x79")](e,t){return this[l("0x1a")](this._serverUrl+l("0x33"),{body:Object[l("0x4b")]({id:e},t)})}[l("0xdf")](e,t){return this[l("0x1a")](this[l("0xd")]+l("0x49"),{body:Object.assign({q:e},t)})}[l("0x8")](e){return this[l("0x1a")](this._serverUrl+l("0x49"),{asJson:!0,body:e})}[l("0x13")](e){return this[l("0x1a")](this._serverUrl+"/services/create",{body:e})}createFolder(e){return this.handleRequest(this[l("0xd")]+l("0x59"),{body:e})}[l("0x10")](e){return this.handleRequest(this._serverUrl+l("0x5c"),{body:e})}[l("0x5")](e){return this[l("0x1a")](this._serverUrl+l("0xaf"),{body:e})}[l("0x76")](e){return this[l("0x1a")](this[l("0xd")]+l("0x64"),{body:e})}[l("0x70")](e){return this[l("0x1a")](this[l("0xd")]+l("0xa5"),{body:e})}[l("0x32")](e){return this.handleRequest(this[l("0xd")]+"/services/remove",{body:e})}fieldinfo(){return this.handleRequest(this[l("0xd")]+l("0x41"))}[l("0xbb")](e=!1){return this[l("0x3e")]&&!e?Promise[l("0x8c")](this[l("0x3e")]):this[l("0x1a")](this[l("0xd")]+l("0x14"),{method:l("0x36"),skipCsrf:!0}).then(e=>(this[l("0x3e")]=e[l("0x74")],window[l("0x7b")][l("0x48")](l("0xe1"),e[l("0x74")]),e[l("0x74")]))}[l("0x98")](e=navigator[l("0xc6")]){return this[l("0x1a")](this[l("0xd")]+"/services/messages",{body:{localeChain:e},skipCsrf:!0,method:l("0x36")}).then(e=>(this[l("0x19")]=new i(e),Object[l("0x4b")]({},e)))}[l("0xd9")](e){if(e[l("0xa1")])throw e;return e}handleRequest(e,t={},n=!0){return s(this,void 0,void 0,function*(){const s=()=>this._requestStrategy[l("0x5f")](e,t)[l("0x8f")](this[l("0xd9")]);try{return yield s()}catch(s){if(!s.errorcode||![401,403][l("0xc2")](s.errorcode))throw s;if(!this[l("0x22")])throw l("0xb0");if(!n)throw l("0x5e");return 403==s[l("0xa1")]&&"CsrfTokenMismatch"===s.errorname?yield this[l("0xbb")](!0):yield this[l("0x9")](),yield this[l("0x1a")](e,t,!1)}})}}t[l("0x1d")]=a,t[l("0xcf")]=class{constructor(e){this[l("0xb5")]=e,this[l("0x2c")]=this[l("0xb5")][l("0x2c")][l("0x8d")](this[l("0xb5")]),this.useLoginHandler=this.apiClient[l("0x87")][l("0x8d")](this.apiClient)}get messages(){return this[l("0xb5")][l("0xca")]}[l("0x98")](e,t,n){const s=this[l("0xb5")].loadMessages(n);t&&s[l("0x8f")](t)}[l("0x38")](e){this[l("0xb5")][l("0x87")](()=>new Promise(()=>{window[l("0xe0")][l("0x4b")](e)}))}usePluginContextAuthentication(){throw"No longer used! Instantiate your AssetsApiClient with the fromPluginContext function."}[l("0x9")](e,t,n,s){e&&t&&(s=Object[l("0x4b")](s||{},{cred:btoa(e+":"+t)}));const o=this[l("0xb5")].login(s);n&&o[l("0x8f")](n)}[l("0xb")](e){const t=this[l("0xb5")][l("0xb")]();e&&t[l("0x8f")](e)}[l("0x56")](e){if(e&&l("0x7e")!=typeof e)throw"Redirects after login are no longer supported, use the callback function for this purpose";const t=this[l("0xb5")].logout();e&&t.then(e)}search(e,t){const n=this[l("0xb5")][l("0x80")](e);t&&n[l("0x8f")](t)}[l("0x4e")](e,t){const n=this.apiClient[l("0x4e")](e);t&&n[l("0x8f")](t)}[l("0x79")](e,t,n){const s=this[l("0xb5")][l("0x79")](e,t);n&&s.then(n)}[l("0xdf")](e,t,n){const s=this[l("0xb5")].updatebulk(e,t);n&&s[l("0x8f")](n)}[l("0x13")](e,t){const n=this[l("0xb5")][l("0x13")](e);t&&n[l("0x8f")](t)}createFolder(e,t){const n=this.apiClient[l("0xd3")](e);t&&n[l("0x8f")](t)}copy(e,t){const n=this[l("0xb5")][l("0x10")](e);t&&n.then(t)}move(e,t){const n=this[l("0xb5")][l("0x5")](e);t&&n[l("0x8f")](t)}[l("0x76")](e,t){const n=this[l("0xb5")][l("0x76")](e);t&&n.then(t)}removeRelation(e,t){const n=this[l("0xb5")].removeRelation(e);t&&n[l("0x8f")](t)}[l("0x32")](e,t){const n=this.apiClient.remove(e);t&&n.then(t)}[l("0x66")](e){const t=this.apiClient[l("0x66")]();e&&t[l("0x8f")](e)}[l("0xbb")](e){const t=this[l("0xb5")][l("0xbb")]();e&&t.then(e)}},t.queryForSelection=e=>0===e.length?"":"("+e.map(e=>"id:"+e.id).join(l("0xc4"))+")",t[l("0xbd")]=e=>0===e[l("0x77")]?"":"("+e[l("0x4a")](e=>l("0xa0")+e[l("0x44")]+'"')[l("0x3f")](l("0xc4"))+")";class c{static[l("0x68")](){throw l("0x71")}static[l("0x93")](){throw l("0x9c")}}t.LegacyElvisPlugin=c,c[l("0x69")]=t[l("0x69")],c.queryForFolderSelection=t[l("0xbd")],t[l("0xe2")]=class{static hasViewPreview(e){return e&&-1!=e[l("0x24")]("P")}static hasUseOriginal(e){return e&&-1!=e[l("0x24")]("U")}}},function(e,t,n){"use strict";Object[l("0x7f")](t,l("0x52"),{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(10))},function(e,t,n){"use strict";var s=this&&this[l("0x4f")]||function(e,t,n,s){return new(n||(n=Promise))(function(o,r){function i(e){try{c(s.next(e))}catch(e){r(e)}}function a(e){try{c(s[l("0x23")](e))}catch(e){r(e)}}function c(e){var t;e[l("0x50")]?o(e[l("0x84")]):(t=e[l("0x84")],t instanceof n?t:new n(function(e){e(t)}))[l("0x8f")](i,a)}c((s=s[l("0xa3")](e,t||[])).next())})};Object[l("0x7f")](t,l("0x52"),{value:!0});const o=n(0);t[l("0x28")]=function(){return s(this,void 0,void 0,function*(){const e=yield o.AssetsPluginContext.get();return new(o[l("0x5d")])(e)})},t[l("0xf")]=function(){return s(this,void 0,void 0,function*(){const e=yield o.AssetsPluginContext[l("0x3d")](),t=o[l("0x1d")][l("0x55")](e);return new o.LegacyElvisApiWrapper(t)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"v1",function(){return f}),n.d(t,"v3",function(){return S}),n.d(t,"v4",function(){return T}),n.d(t,"v5",function(){return O});var s=l("0x6c")!=typeof crypto&&crypto[l("0xc5")]&&crypto[l("0xc5")][l("0x8d")](crypto)||l("0x6c")!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function r(){if(!s)throw new Error(l("0xcd"));return s(o)}for(var i=[],a=0;a<256;++a)i.push((a+256).toString(16).substr(1));var c,x,u=function(e,t){var n=t||0,s=i;return(s[e[n+0]]+s[e[n+1]]+s[e[n+2]]+s[e[n+3]]+"-"+s[e[n+4]]+s[e[n+5]]+"-"+s[e[n+6]]+s[e[n+7]]+"-"+s[e[n+8]]+s[e[n+9]]+"-"+s[e[n+10]]+s[e[n+11]]+s[e[n+12]]+s[e[n+13]]+s[e[n+14]]+s[e[n+15]])[l("0x3")]()},d=0,h=0,f=function(e,t,n){var s=t&&n||0,o=t||[],i=(e=e||{})[l("0x8a")]||c,a=void 0!==e.clockseq?e[l("0xb4")]:x;if(null==i||null==a){var f=e[l("0x4")]||(e[l("0x4c")]||r)();null==i&&(i=c=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==a&&(a=x=16383&(f[6]<<8|f[7]))}var p=void 0!==e[l("0xb9")]?e.msecs:Date[l("0x21")](),g=void 0!==e[l("0x17")]?e[l("0x17")]:h+1,b=p-d+(g-h)/1e4;if(b<0&&void 0===e[l("0xb4")]&&(a=a+1&16383),(b<0||p>d)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=p,h=g,x=a;var v=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;o[s++]=v>>>24&255,o[s++]=v>>>16&255,o[s++]=v>>>8&255,o[s++]=255&v;var y=p/4294967296*1e4&268435455;o[s++]=y>>>8&255,o[s++]=255&y,o[s++]=y>>>24&15|16,o[s++]=y>>>16&255,o[s++]=a>>>8|128,o[s++]=255&a;for(var m=0;m<6;++m)o[s+m]=i[m];return t||u(o)},p=function(e,t,n){function s(e,s,o,r){var i,a=o&&r||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e[l("0x77")];++n)t.push(e[l("0x18")](n));return t}(e)),l("0x53")==typeof s&&(i=[],s[l("0x61")](/[a-fA-F0-9]{2}/g,function(e){i.push(parseInt(e,16))}),s=i),!Array[l("0x81")](e))throw TypeError(l("0x72"));if(!Array[l("0x81")](s)||16!==s[l("0x77")])throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=n(s[l("0x35")](e));if(c[6]=15&c[6]|t,c[8]=63&c[8]|128,o)for(var x=0;x<16;++x)o[a+x]=c[x];return o||u(c)}try{s[l("0xb6")]=e}catch(e){}return s[l("0xad")]="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL=l("0xb7"),s};function g(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function v(e,t,n,s,o,r){return b((i=b(b(t,e),b(s,r)))<<(a=o)|i>>>32-a,n);var i,a}function y(e,t,n,s,o,r,i){return v(t&n|~t&s,e,t,o,r,i)}function m(e,t,n,s,o,r,i){return v(t&s|n&~s,e,t,o,r,i)}function C(e,t,n,s,o,r,i){return v(t^n^s,e,t,o,r,i)}function w(e,t,n,s,o,r,i){return v(n^(t|~s),e,t,o,r,i)}var S=p("v3",48,function(e){if(l("0x53")==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t[l("0x77")]);for(var n=0;n<t[l("0x77")];++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e[l("0x77")],s=0;s<n;s+=8){var o=e[s>>5]>>>s%32&255,r=parseInt("0123456789abcdef".charAt(o>>>4&15)+l("0x9e").charAt(15&o),16);t.push(r)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[g(t)-1]=t;for(var n=1732584193,s=-271733879,o=-1732584194,r=271733878,i=0;i<e[l("0x77")];i+=16){var a=n,c=s,x=o,u=r;n=y(n,s,o,r,e[i],7,-680876936),r=y(r,n,s,o,e[i+1],12,-389564586),o=y(o,r,n,s,e[i+2],17,606105819),s=y(s,o,r,n,e[i+3],22,-1044525330),n=y(n,s,o,r,e[i+4],7,-176418897),r=y(r,n,s,o,e[i+5],12,1200080426),o=y(o,r,n,s,e[i+6],17,-1473231341),s=y(s,o,r,n,e[i+7],22,-45705983),n=y(n,s,o,r,e[i+8],7,1770035416),r=y(r,n,s,o,e[i+9],12,-1958414417),o=y(o,r,n,s,e[i+10],17,-42063),s=y(s,o,r,n,e[i+11],22,-1990404162),n=y(n,s,o,r,e[i+12],7,1804603682),r=y(r,n,s,o,e[i+13],12,-40341101),o=y(o,r,n,s,e[i+14],17,-1502002290),n=m(n,s=y(s,o,r,n,e[i+15],22,1236535329),o,r,e[i+1],5,-165796510),r=m(r,n,s,o,e[i+6],9,-1069501632),o=m(o,r,n,s,e[i+11],14,643717713),s=m(s,o,r,n,e[i],20,-373897302),n=m(n,s,o,r,e[i+5],5,-701558691),r=m(r,n,s,o,e[i+10],9,38016083),o=m(o,r,n,s,e[i+15],14,-660478335),s=m(s,o,r,n,e[i+4],20,-405537848),n=m(n,s,o,r,e[i+9],5,568446438),r=m(r,n,s,o,e[i+14],9,-1019803690),o=m(o,r,n,s,e[i+3],14,-187363961),s=m(s,o,r,n,e[i+8],20,1163531501),n=m(n,s,o,r,e[i+13],5,-1444681467),r=m(r,n,s,o,e[i+2],9,-51403784),o=m(o,r,n,s,e[i+7],14,1735328473),n=C(n,s=m(s,o,r,n,e[i+12],20,-1926607734),o,r,e[i+5],4,-378558),r=C(r,n,s,o,e[i+8],11,-2022574463),o=C(o,r,n,s,e[i+11],16,1839030562),s=C(s,o,r,n,e[i+14],23,-35309556),n=C(n,s,o,r,e[i+1],4,-1530992060),r=C(r,n,s,o,e[i+4],11,1272893353),o=C(o,r,n,s,e[i+7],16,-155497632),s=C(s,o,r,n,e[i+10],23,-1094730640),n=C(n,s,o,r,e[i+13],4,681279174),r=C(r,n,s,o,e[i],11,-358537222),o=C(o,r,n,s,e[i+3],16,-722521979),s=C(s,o,r,n,e[i+6],23,76029189),n=C(n,s,o,r,e[i+9],4,-640364487),r=C(r,n,s,o,e[i+12],11,-421815835),o=C(o,r,n,s,e[i+15],16,530742520),n=w(n,s=C(s,o,r,n,e[i+2],23,-995338651),o,r,e[i],6,-198630844),r=w(r,n,s,o,e[i+7],10,1126891415),o=w(o,r,n,s,e[i+14],15,-1416354905),s=w(s,o,r,n,e[i+5],21,-57434055),n=w(n,s,o,r,e[i+12],6,1700485571),r=w(r,n,s,o,e[i+3],10,-1894986606),o=w(o,r,n,s,e[i+10],15,-1051523),s=w(s,o,r,n,e[i+1],21,-2054922799),n=w(n,s,o,r,e[i+8],6,1873313359),r=w(r,n,s,o,e[i+15],10,-30611744),o=w(o,r,n,s,e[i+6],15,-1560198380),s=w(s,o,r,n,e[i+13],21,1309151649),n=w(n,s,o,r,e[i+4],6,-145523070),r=w(r,n,s,o,e[i+11],10,-1120210379),o=w(o,r,n,s,e[i+2],15,718787259),s=w(s,o,r,n,e[i+9],21,-343485551),n=b(n,a),s=b(s,c),o=b(o,x),r=b(r,u)}return[n,s,o,r]}(function(e){if(0===e.length)return[];for(var t=8*e[l("0x77")],n=new Uint32Array(g(t)),s=0;s<t;s+=8)n[s>>5]|=(255&e[s/8])<<s%32;return n}(e),8*e[l("0x77")]))}),T=function(e,t,n){"string"==typeof e&&(t=l("0xb3")===e?new Uint8Array(16):null,e=null);var s=(e=e||{})[l("0x4")]||(e[l("0x4c")]||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){for(var o=n||0,i=0;i<16;++i)t[o+i]=s[i];return t}return u(s)};function _(e,t,n,s){switch(e){case 0:return t&n^~t&s;case 1:case 3:return t^n^s;case 2:return t&n^t&s^n&s}}function E(e,t){return e<<t|e>>>32-t}var O=p("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(l("0x53")==typeof e){var s=unescape(encodeURIComponent(e));e=[];for(var o=0;o<s.length;++o)e[l("0x6")](s[l("0x18")](o))}e[l("0x6")](128);for(var r=e.length/4+2,i=Math[l("0x2e")](r/16),a=new Array(i),c=0;c<i;++c){for(var x=new Uint32Array(16),u=0;u<16;++u)x[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];a[c]=x}a[i-1][14]=8*(e[l("0x77")]-1)/Math[l("0xdc")](2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=8*(e[l("0x77")]-1)&4294967295;for(var d=0;d<i;++d){for(var h=new Uint32Array(80),f=0;f<16;++f)h[f]=a[d][f];for(var p=16;p<80;++p)h[p]=E(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);for(var g=n[0],b=n[1],v=n[2],y=n[3],m=n[4],C=0;C<80;++C){var w=Math.floor(C/20),S=E(g,5)+_(w,b,v,y)+m+t[w]+h[C]>>>0;m=y,y=v,v=E(b,30)>>>0,b=g,g=S}n[0]=n[0]+g>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+m>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})}])},l("0xac")==typeof t?e[l("0x86")]=u():"function"==l("0x7e")&&n.amdD[l("0x16")]?(o=[],void 0===(r="function"==typeof(s=u)?s.apply(t,o):s)||(e.exports=r)):l("0xac")==typeof t?t[l("0x88")]=u():x[l("0x88")]=u()}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(156)})();